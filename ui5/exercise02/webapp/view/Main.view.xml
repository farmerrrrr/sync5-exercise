<mvc:View controllerName="sync.d14.exercise02.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns:t="sap.ui.table"
    xmlns="sap.m">
    <Page id="page" title="{i18n>title}">
        <content>
            <Panel id="panel">
                <content>
                    <Label
                        id="label"
                        text="입력하세요"
                        required="true"
                        class="sapUiSmallMarginEnd"/>
                    <Input
                        id="input1"
                        type="Number"
                        value=""
                        width="10%"
                        class="sapUiSmallMarginEnd"/>
                    <Select
                        id="select"
                        width="auto"
                        items="{Operator>/operator}"
                        class="sapUiSmallMarginEnd">
                        <core:ListItem
                            id="idListItem"
                            key="{Operator>op}"
                            text="{Operator>op}"
                        />
                    </Select>

                    <!-- 버튼 별 이벤트 함수(연산자 설정) 분리 -->
                    <!-- <Button
                        id="btn_add"
                        text="+"
                        press=".onSetOperator_add"
                        class="sapUiSmallMarginEnd"/>
                    <Button
                        id="btn_sub"
                        text="-"
                        press=".onSetOperator_sub"
                        class="sapUiSmallMarginEnd"/>
                    <Button
                        id="btn_mul"
                        text="*"
                        press=".onSetOperator_mul"
                        class="sapUiSmallMarginEnd"/>
                    <Button
                        id="btn_div"
                        text="/"
                        press=".onSetOperator_div"
                        class="sapUiSmallMarginEnd"/> -->
                    <Input
                        id="input2"
                        type="Number"
                        value=""
                        width="10%"
                        class="sapUiSmallMarginEnd"/>
                        
                    <!-- 결과 값 도출 후 계산 결과를 보여주는 Fragment view 띄우기 -->
                    <Button
                        id="btn_res"
                        text="계산"
                        press=".onOpenResultDialog"/>

                    <t:Table
                        id="table"
                        rows="{local>/history}"
                        selectionMode="MultiToggle"
                        paste="onPaste"
                        ariaLabelledBy="title">
                        <t:extension>
                            <OverflowToolbar>
                                <content>
                                    <Title 
                                        text="History"
                                        level="H2"/>
                                    <ToolbarSpacer />
                                </content>
                            </OverflowToolbar>
                        </t:extension>
                        <t:columns>
                            <t:Column hAlign="End">
                                <Label
                                    width="100%"
                                    textAlign="Center"
                                    text="Number 1"/>
                                <t:template>
                                    <Text 
                                        text="{local>number1}"
                                        wrapping="false"/>
                                </t:template>
                            </t:Column>
                            <t:Column hAlign="Center">
                                <Label text="Operator"/>
                                <t:template>
                                    <Text 
                                        text="{local>operator}"
                                        wrapping="false"/>
                                </t:template>
                            </t:Column>
                            <t:Column hAlign="End">
                                <Label text="Number 2"/>
                                <t:template>
                                    <Text 
                                        text="{local>number2}"
                                        wrapping="false"/>
                                </t:template>
                            </t:Column>
                            <t:Column hAlign="End">
                                <Label text="Result"/>
                                <t:template>
                                    <Text 
                                        text="{local>result}"
                                        wrapping="false"/>
                                </t:template>
                            </t:Column>
                            <t:Column hAlign="Center">
                                <Label text="Status"/>
                                <t:template>
                                    <core:Icon
                                        src="sap-icon://circle-task-2"
                                        class="size1"
                                        color="{
                                            path: 'local>result',
                                            formatter: '.fnColorFormat'
                                        }"
                                        visible="{= ${local>result} > 100}">
                                        <core:layoutData>
                                            <FlexItemData growFactor="1"/>
                                        </core:layoutData>
                                    </core:Icon>
                                </t:template>
                            </t:Column>
                        </t:columns>
                    </t:Table>
                </content>
            </Panel>
        </content>
    </Page>
</mvc:View>
